name: mcards-build-workflow

on: workflow_dispatch

jobs:
  build-android:
    runs-on: ubuntu-latest
    
    steps:
      - name: checkout-code
        uses: actions/checkout@v3

      - name: install-and-setup-python
        uses: actions/setup-python@v6.0.0
        with:
          python-version: '3.10.12'

      - name: install-and-setup-dependencies
        run: |
         python --version
         source .venv/bin/activate
         pip install pygame-ce
         pip install cython
         pip install kivy
         pip install buildozer

      - name: build-mcards
        run: |
         buildozer android debug

      - name: upload-apk
        uses: actions/upload-artifact@v3
        with:
          name: mcards-build
          path: bin/*.apk # Para fins de garantia.
